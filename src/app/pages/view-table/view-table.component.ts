import { CommonModule, JsonPipe } from '@angular/common';
import { Component, OnInit, ViewChild } from '@angular/core';

import { CodeModalComponent, CodeModalType } from '../../shared/components/code-modal';

type dataType = Array<{ [key: string]: unknown }>;


@Component({
  selector: 'app-view-table',
  standalone: true,
  imports: [JsonPipe, CommonModule, CodeModalComponent],
  templateUrl: './view-table.component.html',
  styleUrl: './view-table.component.scss'
})
export class ViewTableComponent implements OnInit {
	@ViewChild(CodeModalComponent) diffModal!: CodeModalComponent;

	// data = input.required<Array<{ [key: string]: unknown }>>();
	selectedRow: number | null = null;  // Armazena o índice da linha selecionada
	codeModal: CodeModalType = { title: '', data: '' };

	loading: boolean = false;
	msgLoading = '';

	data: dataType = [
		{ id: 1, nome: 'Produto C', preco: 10.5, quantidade: 5 },
		{ id: 2, nome: 'Produto B', preco: 20, quantidade: 3 },
		{ id: 3, nome: 'Produto A', preco: 15, quantidade: 5 },
	];

	data2: dataType = [
		{
			activityId: 'bf42d76b-f475-491a-baf4-949aa7a85599',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'StartFlow',
			activityName: 'start_flow',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|_sessionData_',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '0afee31f-b08a-49e6-968b-473f7241af0d',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'GoToFlow',
			activityName: 'gtf_whatsapp_reneg_pj_optin',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|gtf_whatsapp_reneg_pj_optin_output',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: {
				subFlowId: '7e4aeba5-6adf-46f2-be7c-e47b5891d937',
				startSubFlowActivityName: 'ssf_start_jornada',
			},
		},
		{
			activityId: 'a007ac5c-e736-4f2e-a3b9-0cad97ac2ebb',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Mapper',
			activityName: 'mp_formata_optin',
			inputDataLoc: ['whatsapp_reneg_pj_optin|mp_operador_optin_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|mp_formata_optin_output',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: {
				mapperTemplate:
					'{ \n  "hashId":"{{{mp_operador_optin_result.cnpj}}}",\n  "cnpj":"{{{mp_operador_optin_result.cnpj}}}",\n  "telefone":"{{{mp_operador_optin_result.telefone}}}",\n  "cpf_criptografado":"{{{mp_operador_optin_result.cpf_criptografado}}}",\n  "encrypted_cpf":"{{{mp_operador_optin_result.cpf_criptografia}}}"\n}',
				outputSchema: null,
			},
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: 'c993a316-0cfd-4b10-ad7b-e923d4e15aFF',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'SendMessage',
			activityName: 'sm_api_lista_contratos_erro',
			inputDataLoc: ['modulo_reneg_pj_mensagens|mp_mensagens_OUT'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|sm_api_lista_acordos_contratos_erro_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: {
				sendMessageTemplate: '{\n    "html": "{{{mp_mensagens_result.falhaNaApi}}}", \n    "acoes": []\n}',
				resoluteness: null,
			},
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 2,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '1c6d59d3-2261-4fde-b6aa-a26d3e4dd8c4',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'EndOfFlow',
			activityName: 'eof_api_lista_contratos_erro',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|eof_api_lista_acordos_contratos_erro_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: {
				eofType: 'ranUpToCompletion',
				eofAction: 'backToIA',
				typingDisabled: false,
				eofTags: null,
				eofData: null,
				resoluteness: null,
			},
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '801285b6-e710-405d-8a20-df6f047f720d',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Decision',
			activityName: 'dc_tem_acordo_ou_contrato_deleted',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_quantidade_geral_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|dc_tem_acordo_ou_contrato_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: {
				conditions: [
					{
						item1: '@ == `0`',
						item2: 'semRegistros',
					},
				],
				defaultNextActivity: {
					item1: 'temRegistros',
					item2: 'temRegistros',
				},
				decisionEngineType: 'jmespath',
			},
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: 'eb3197d1-5006-47ca-a869-243c00449b65',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Decision',
			activityName: 'decision_acordo_contrato_renegociavel',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_lista_boletos_unificado_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|decision_acordo_contrato_renegociavel_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: {
				conditions: [
					{
						item1: '@.qtdGeralElegiveis > `10`',
						item2: 'mais_10_boletos',
					},
				],
				defaultNextActivity: {
					item1: 'possuiBoletos',
					item2: 'possuiBoletos',
				},
				decisionEngineType: 'jmespath',
			},
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '260a5806-dc1a-4200-89a2-db27ca303b57',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'SendMessage',
			activityName: 'sm_sem_boleto_elegivel',
			inputDataLoc: ['jornada_consultar_clientes_eq3_whats_reneg|mp_dados_cliente_eq3_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|sm_sem_boleto_elegivel_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: {
				sendMessageTemplate:
					'{\n    "html":"Consultei aqui e *não encontrei nenhum boleto em aberto* para a sua empresa {{#ifCond (gt (length mp_dados_cliente_eq3_result.nome_fantasia) 0)}} {{{mp_dados_cliente_eq3_result.nome_fantasia}}}{{/ifCond}}. Isso pode acontecer por 3 motivos:####👉 Você escolheu o pagamento em débito em conta. Nesse caso, não é possível gerar um boleto;####👉 Seu boleto ainda não foi gerado.##Lembrando que a emissão pode ser feita a partir de 9 dias antes do vencimento;####👉 O boleto que você procura venceu há mais de 9 dias e expirou.@@Se quiser mais informações, ligue para a nossa central especializada: 4004 1188 (capitais e regiões metropolitanas) e 0800 709 1188 (demais localidades).##O atendimento é de segunda a sexta, das 8:30 às 18:30.", \n    "acoes":[]\n}',
				resoluteness: null,
			},
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: 'be7808d4-78f6-4e8d-8701-4b2ff4a9fa67',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'EndOfFlow',
			activityName: 'eof_sem_boleto_elegivel',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|eof_sem_boleto_elegivel_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: {
				eofType: 'ranUpToCompletion',
				eofAction: 'backToIA',
				typingDisabled: false,
				eofTags: null,
				eofData: null,
				resoluteness: null,
			},
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '20c71174-1122-43ab-96f6-9160064b765a',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'SendMessage',
			activityName: 'sm_mais_de_10_boletos',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|sm_mais_de_10_boletos_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: {
				sendMessageTemplate:
					'{\n    "html":"Como você tem mais de 10 boletos, não consigo te ajudar por aqui.🙁####Você pode solicitar o boleto que precisa com a nossa equipe de especialistas. Faz assim: acesse o *app Itaú Empresas*, vá em *ajuda*, abra o *chat* e escreva na conversa: *segunda via do boleto de renegociação*.@@Ou ligue: 4004 1188 (capitais e regiões metropolitanas) e 0800 709 1188 (demais localidades).##O atendimento é de segunda a sexta, das 8:30 às 18:30.", \n    "acoes":[]\n}',
				resoluteness: null,
			},
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: 'eb271f3b-028a-4e92-9520-4d6fcd5978a0',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'EndOfFlow',
			activityName: 'eof_mais_de_10_boletos',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|eof_mais_de_10_boletos_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: {
				eofType: 'ranUpToCompletion',
				eofAction: 'backToIA',
				typingDisabled: false,
				eofTags: null,
				eofData: null,
				resoluteness: null,
			},
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '013cd49e-30da-42d0-bba4-9df290f6f204',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'UserRequest',
			activityName: 'req_escolhe_contrato',
			inputDataLoc: [
				'whatsapp_pj_reneg_segunda_via_boleto|mp_qtd_iteracao_result',
				'whatsapp_pj_reneg_segunda_via_boleto|filter_lista_boleto_acordo_result',
			],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|req_escolhe_contrato_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: {
				requestUserInfoTemplate:
					'{"html": "#BOTATO#Clique no botão e *selecione o boleto* que você quer emitir uma nova via.👇####É bom você saber: Se algum *boleto que você já pagou* aparecer na lista, *pode desconsiderar*. Isso acontece porque leva até 3 dias úteis para o pagamento ser processado.#V2##LISTA<ver boletos[{{{#each filter_lista_boleto_acordo_result}}}valor a pagar: R${{{trim (formatNumber \'en-US\' valor groupSeparator=\'.\' decimalSeparator=\'.\')}}} | vencimento: {{{ formatDate data_vencimento \'dd/MM/yyyy\' }}}, {{{/each}}}selecione se o boleto não estiver listado]>#", \n  "acoes": [ \n    {{{#each filter_lista_boleto_acordo_result}}}\n      { \n        "rotulo": {{{#ifCond (gt (trim (length nome_produto)) \'24\')}}}"{{{ capitalize (substring (trim nome_produto) 0 21) }}}..."{{{else}}}"{{{ trim nome_produto }}}"{{{/ifCond}}},\n        "tipo": "userReplyRes", "acao": "{{{id}}}" \n      }, \n    {{{/each}}} \n    { \n      "rotulo": "Não encontrei o boleto", \n      "tipo": "changeSubject", "acao": "{ \\"value\\": \\"nenhum\\" }" \n    } \n    {{{#ifCond (eq mp_qtd_iteracao_result.value \'1\') }}}\n    ,\n    {\n      "rotulo": "ver lista anterior", \n      "tipo": "userReplyRes", "acao": "{ \\"value\\": \\"voltar\\" }" \n    }\n    {{{/ifCond}}}\n  ] \n}',
				resoluteness: null,
				alternativePaths: [],
			},
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: 'd819ae0c-c9d8-4afa-9c80-d04cd7446657',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'UserResponse',
			activityName: 'res_escolhe_contrato',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|res_escolhe_contrato_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|res_escolhe_contrato_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: {
				outputSchema: null,
				respSchema:
					'{\n "definitions": {},\n "$schema": "http://json-schema.org/draft-07/schema#",\n "$id": "http://example.com/root.json",\n "type": "object",\n "title": "The Root Schema",\n "required": ["value"],\n "properties": {\n  "value": {\n   "$id": "#/properties/value",\n   "type": "string",\n   "title": "The Value Schema",\n   "default": "",\n   "pattern": "^([0-9]{3,17}|nenhum|voltar)",\n            "minLength": 1\n  }\n }\n}',
				userReplyTemplate: null,
				userReplyTries: [
					{
						item1: "{{{ attemptCheck numTentativas '>=' 2 }}}",
						item2: 'excedeu',
					},
					{
						item1: "{{{ attemptCheck numTentativas '<' 2 }}}",
						item2: 'naoValido',
					},
				],
				responseFormat: null,
			},
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '44ce5593-8ef5-4e9e-8125-d86404929498',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Mapper',
			activityName: 'mp_count_escolhe_contrato_tentativa',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_count_escolhe_contrato_tentativa_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|mp_count_escolhe_contrato_tentativa_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: {
				mapperTemplate:
					'{ \n{{#ifCond (eq mp_count_escolhe_contrato_erro_result.value null)}}\n "value": "0"\n{{else}}\n "value": "{{add mp_count_escolhe_contrato_erro_result.value "1"}}"\n{{/ifCond}}\n}',
				outputSchema: null,
			},
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: 'fb46ea62-53dd-48b6-8a49-f3477a2ebcc4',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'UserRequest',
			activityName: 'req_escolhe_contrato_tentativa',
			inputDataLoc: [
				'whatsapp_pj_reneg_segunda_via_boleto|mp_count_escolhe_contrato_tentativa_result',
				'whatsapp_pj_reneg_segunda_via_boleto|mp_qtd_iteracao_result',
				'modulo_reneg_pj_mensagens|mp_mensagens_result',
				'whatsapp_pj_reneg_segunda_via_boleto|filter_lista_boleto_acordo_resulto',
			],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|req_escolhe_contrato_tentativa_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: {
				requestUserInfoTemplate:
					'{\n    "html": "{{#ifCond (eq mp_count_escolhe_contrato_erro_result.value "0")}}{{{mp_mensagens_result.tentativaClicarBotao}}}{{else}}{{{mp_mensagens_result.retentativaClicarBotao}}}{{/ifCond}}\n    #V2##LISTA<ver boletos[{{{#each filter_lista_boleto_acordo_result}}}valor a pagar: R${{{trim (formatNumber \'en-US\' valor groupSeparator=\'.\' decimalSeparator=\'.\')}}} | \n        vencimento: {{{ formatDate data_vencimento \'dd/MM/yyyy\' }}}, {{{/each}}}selecione se o boleto não estiver listado]>#", \n  "acoes": [ \n    {{{#each filter_lista_boleto_acordo_result}}}\n      { \n        "rotulo": {{{#ifCond (gt (trim (length nome_produto)) \'24\')}}}"{{{ capitalize (substring (trim nome_produto) 0 21) }}}..."{{{else}}}"{{{ trim nome_produto }}}"{{{/ifCond}}},\n        "tipo": "userReplyRes", "acao": "{{{id}}}" \n      }, \n    {{{/each}}} \n    { \n      "rotulo": "Não encontrei o boleto", \n      "tipo": "changeSubject", "acao": "{ \\"value\\": \\"nenhum\\" }" \n    } \n    {{{#ifCond (eq mp_qtd_iteracao_result.value \'1\') }}}\n    ,\n    {\n      "rotulo": "ver lista anterior", \n      "tipo": "userReplyRes", "acao": "{ \\"value\\": \\"voltar\\" }" \n    }\n    {{{/ifCond}}}\n  ] \n}',
				resoluteness: null,
				alternativePaths: [],
			},
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '001ede37-3796-4d59-9629-b45fb0beadd8',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'SendMessage',
			activityName: 'sm_excedeu_escolhe_contrato_erro',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|sm_excedeu_escolhe_contrato_erro_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: {
				sendMessageTemplate:
					'{"html": "Ops, não entendi o que você precisa. Você pode tentar de novo mais tarde ou conversar comigo sobre outro assunto.", "acoes": []}',
				resoluteness: null,
			},
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: 'e93ff9b5-7cbb-47d2-b913-75ed199b6149',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'EndOfFlow',
			activityName: 'eof_excedeu_escolhe_contrato_erro',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|eof_excedeu_escolhe_contrato_erro_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: {
				eofType: 'ranUpToCompletion',
				eofAction: 'backToIA',
				typingDisabled: false,
				eofTags: null,
				eofData: null,
				resoluteness: null,
			},
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '83913d20-65a8-4512-9016-048051bdda88',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Decision',
			activityName: 'dc_escolhe_contrato',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|res_escolhe_contrato_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|dc_escolhe_contrato_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: {
				conditions: [
					{
						item1: "@.value == 'nenhum'",
						item2: 'naoAachou',
					},
					{
						item1: "@.value == 'voltar'",
						item2: 'voltar',
					},
				],
				defaultNextActivity: {
					item1: 'selecionouBoleto',
					item2: 'selecionouBoleto',
				},
				decisionEngineType: 'jmespath',
			},
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: 'b044dde4-eb25-4562-9a09-790d8bf79727',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'UserRequest',
			activityName: 'req_nao_achou_boleto',
			inputDataLoc: ['jornada_consultar_clientes_eq3_whats_reneg|mp_dados_cliente_eq3_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|req_nao_achou_boleto_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: {
				requestUserInfoTemplate:
					'{\n    "html": "#BOTAO#Parece que você *não tem outros boletos em aberto* para sua empresa{{#ifCond (gt (length mp_dados_cliente_eq3_result.nome_fantasia) 0)}} {{{mp_dados_cliente_eq3_result.nome_fantasia}}}{{/ifCond}}. ##Isso pode acontecer por 2 motivos:####👉Seu boleto ainda não foi gerado. ##Lembrando que a emissão pode ser feita a partir de 9 dias antes do vencimento.####👉Você escolheu o pagamento em débito em conta. Neste caso, não é possível gerar um boleto, é só deixar o valor do acordo disponível na sua conta que no dia de vencimento o pagamento acontecerá automaticamente.", \n    "acoes": [\n        {\n            "rotulo": "rever lista",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"rever\\" }"\n        },\n        {\n            "rotulo": "mudar de assunto",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"mudarAssunto\\" }"\n        }\n    ]\n}',
				resoluteness: null,
				alternativePaths: [],
			},
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: 'da2d4719-7293-4f8b-bb01-4ac503573c70',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'EndOfFlow',
			activityName: 'eof_mudar_assunto',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|eof_mudar_assunto_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: {
				eofType: 'ranUpToCompletion',
				eofAction: 'backToIA',
				typingDisabled: false,
				eofTags: null,
				eofData: null,
				resoluteness: null,
			},
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '5c5d1995-8a3c-43da-9507-c46b64e83960',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'CallApi',
			activityName: 'callapi_lista_documentos_valid',
			inputDataLoc: [
				'whatsapp_pj_reneg_segunda_via_boleto|mp_formata_optin_result',
				'whatsapp_pj_reneg_segunda_via_boleto|__sessionData__',
			],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|callapi_lista_documentos_valid_result',
			activityTags: {
				header: 'false',
				readas: 'string',
				giantReturn: 'false',
			},
			callApiUdt: {
				dev: {
					method: 'POST',
					url: 'https://api-sp.hom.aws.cloud.ihf/hom/posvendas-recuperacredito/v1/documento',
					body: '{\n"numero_documento": "{{mp_formata_optin_result.cnpj}}",\n"produto": 13,\n"codigo_carta": null,\n"data_inicial": null,\n"data_final": null,\n"tipo_periodo": null,\n"data_vendimento": null,\n"valor": null,\n"codigo_barras": null,\n"nosso_numero": null\n }',
					contentType: null,
					resultTemplate: null,
					headers: {
						'user-Agent': 'itau-internetbanking',
						'x-itau-apikey': 'c4576cd3-e66b-4742-8460-f649d41a6d33',
						'x-apigw-api-id': 'uxwyyq0bo0',
						'x-itau-correlationID': '456',
					},
					queryString: {},
					routing: {},
					authentication: {
						authenticationType: 'oauth2_clientCredentials',
						authenticationUri: 'https://des-sts-int.mbi.cloud.ihf/api/oauth/token',
						clientId: 'e0181528-90cf-4b3b-9cbb-336f9d76f8c4',
						client_secret: 'd838bb3f-9f39-4502-acc2-86668e9dc06b',
					},
					protocols: null,
					bodyParameters: null,
					tags: {},
				},
				hom: {
					method: 'POST',
					url: 'https://renegociacoes-v1-recuperacao.api-sp.hom.aws.cloud.ihf/renegociacoes-bff/v1/renegociacoes-posvenda/v1/documento',
					body: '{\n"numero_documento": "{{mp_formata_optin_result.cnpj}}",\n"produto": 13,\n"codigo_carta": null,\n"data_inicial": null,\n"data_final": null,\n"tipo_periodo": null,\n"data_vendimento": null,\n"valor": null,\n"codigo_barras": null,\n"nosso_numero": null\n }',
					contentType: null,
					resultTemplate: null,
					headers: {
						'user-Agent': 'itau-internetbanking',
						'x-itau-apikey': '0517adb6-9636-45fc-b838-f8476dc23ec1',
						'x-itau-correlationID': '456',
					},
					queryString: {},
					routing: {},
					authentication: {
						authenticationType: 'oauth2_clientCredentials',
						authenticationUri: 'https://hom-sts-int.mbi.cloud.ihf/api/oauth/token',
						clientId: '0517adb6-9636-45fc-b838-f8476dc23ec1',
						client_secret: '12efe3b06b75b800fee7bd55935875c41a5de2acafe94e96ad8395ee3eead660518532ba49703717ed03762f71294610',
					},
					protocols: null,
					bodyParameters: null,
					tags: {},
				},
				prod: {
					method: 'POST',
					url: 'https://renegociacoes-v1-recuperacao.api-sp.prod.aws.cloud.ihf/renegociacoes-bff/v1/renegociacoes-posvenda/v1/documento',
					body: '{\n"numero_documento": "{{mp_formata_optin_result.cnpj}}",\n"produto": 13,\n"codigo_carta": null,\n"data_inicial": null,\n"data_final": null,\n"tipo_periodo": null,\n"data_vendimento": null,\n"valor": null,\n"codigo_barras": null,\n"nosso_numero": null\n }',
					contentType: null,
					resultTemplate: null,
					headers: {
						'user-Agent': 'itau-internetbanking',
						'x-itau-apikey': 'e11e48f4-894a-4331-a366-7d8a683851de',
						'x-itau-correlationID': '{{ newGuid }}',
					},
					queryString: {},
					routing: {},
					authentication: {
						authenticationType: 'oauth2_clientCredentials',
						authenticationUri: 'https://sts.mbi.cloud.ihf/api/oauth/token',
						clientId: 'e11e48f4-894a-4331-a366-7d8a683851de',
						client_secret: 'bff5c9c3be90cd3d6cc37f82afa8dcea6c52ec45686123b8e8477ecae06786a8ce7808f8687e267fcc1585b98105e7c4',
					},
					protocols: null,
					bodyParameters: null,
					tags: {},
				},
			},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '18a7c68c-c5a4-43c4-8c5f-0d09e8787767',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Decision',
			activityName: 'dc_pagamento_em_aberto',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_escolhe_boleto_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|dc_pagamento_em_aberto_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: {
				conditions: [
					{
						item1: "@.codigo_situacao == 'AP'",
						item2: 'sim',
					},
				],
				defaultNextActivity: {
					item1: 'nao',
					item2: 'nao',
				},
				decisionEngineType: 'jmespath2',
			},
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: 'e12d01d1-6566-4c23-b66c-ea8d22182d1f',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'EndOfFlow',
			activityName: 'eof_pagamento_efetuado',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|eof_pagamento_efetuado_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: {
				eofType: 'ranUpToCompletion',
				eofAction: 'backToIA',
				typingDisabled: false,
				eofTags: null,
				eofData: null,
				resoluteness: null,
			},
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '86ae9b67-6b25-46dc-b7b6-2dfe4968f726',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'EndOfFlow',
			activityName: 'eof_muda_assunto_boleto_vencido',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|eof_boleto_vencido_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: {
				eofType: 'ranUpToCompletion',
				eofAction: 'backToIA',
				typingDisabled: false,
				eofTags: null,
				eofData: null,
				resoluteness: null,
			},
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: 'c5bcf505-6ef7-4d64-ba19-357c604ecab8',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'UserRequest',
			activityName: 'req_nao_tem_pdf',
			inputDataLoc: [
				'whatsapp_pj_reneg_segunda_via_boleto|mp_escolhe_boleto_result',
				'jornada_consultar_clientes_eq3_whats_reneg|mp_dados_cliente_eq3_result',
			],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|req_nao_tem_pdf_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: {
				requestUserInfoTemplate:
					'{\n    "html": "#BOTAO#Aqui estão os dados da *atual parcela* do seu *{{{mp_escolhe_boleto_result.nome_produto_gerado}}}*####{{{#ifCond (gt (length mp_dados_cliente_eq3_result.nome_fantasia) 0)}}} {{{mp_dados_cliente_eq3_result.nome_fantasia}}}{{{/ifCond}}}.##valor original da parcela: *R$ {{trim (formatNumber \'en-US\' mp_escolhe_boleto_result.valor groupSeparator=\'.\' decimalSeparator=\',\' )}}*##data de vencimento da parcela: *{{{ formatDate mp_escolhe_boleto_result.data_vencimento \'dd/MM/yyyy\' }}}*##status: *aguardando pagamento* ⚠.@@{{{valueIsNotEmpty mp_escolhe_boleto_result.linha_digitavel}}}@@*Copie o código de barras* na mensagem anterior para realizar o pagamento no banco que preferir. Se tiver acesso à sua conta *Itaú Empresas* e quiser pagar por lá agora, é só clicar no botão *pagar no app*, que eu te ajudo.", \n    "acoes":[\n        { \n            "rotulo": "pagar no app",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"pagarApp\\" }"\n        },\n        { \n            "rotulo": "rever lista",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"lista\\" }"\n        },\n        { \n            "rotulo": "preciso do pdf",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"pdf\\" }"\n        }\n    ]\n}',
				resoluteness: null,
				alternativePaths: [],
			},
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: 'cd9aec4d-d066-469b-b50f-11a9e7949da3',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Mapper',
			activityName: 'mp_count_nao_tem_pdf',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_count_nao_tem_pdf_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|mp_count_nao_tem_pdf_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: {
				mapperTemplate:
					'{ \n{{#ifCond (eq mp_count_nao_tem_pdf_result.value null)}}\n "value": "0"\n{{else}}\n "value": "{{add mp_count_nao_tem_pdf_result.value "1"}}"\n{{/ifCond}}\n}',
				outputSchema: null,
			},
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '8b712a09-d988-4e7a-ac16-ccf8ff84eead',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'UserRequest',
			activityName: 'req_nao_tem_pdf_erro',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_count_nao_tem_pdf_result', 'modulo_reneg_pj_mensagens|mp_mensagens_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|req_nao_tem_pdf_erro_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: {
				requestUserInfoTemplate:
					'{\n    "html": "#BOTAO# {{#ifCond (eq mp_count_nao_tem_pdf_result.value "0")}}{{{mp_mensagens_result.tentativaClicarBotao}}}{{else}}{{{mp_mensagens_result.retentativaClicarBotao}}}{{/ifCond}}", \n    "acoes":[\n        { \n            "rotulo": "pagar no app",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"pagarApp\\" }"\n        },\n        { \n            "rotulo": "rever lista",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"lista\\" }"\n        },\n        { \n            "rotulo": "preciso do pdf",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"pdf\\" }"\n        }\n    ]\n}',
				resoluteness: null,
				alternativePaths: [],
			},
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: 'f5d5c38e-012f-4808-8870-186f390eef5b',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'SendMessage',
			activityName: 'sm_excedeu_nao_tem_pdf',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|sm_excedeu_nao_tem_pdf_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: {
				sendMessageTemplate:
					'{"html": "Ops, não entendi o que você precisa. Você pode tentar de novo mais tarde ou conversar comigo sobre outro assunto.", "acoes": []}',
				resoluteness: null,
			},
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '25901fb3-5de0-4564-bb0a-b13f59764c40',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'EndOfFlow',
			activityName: 'eof_excedeu_nao_tem_pdf',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|eof_excedeu_nao_tem_pdf_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: {
				eofType: 'ranUpToCompletion',
				eofAction: 'backToIA',
				typingDisabled: false,
				eofTags: null,
				eofData: null,
				resoluteness: null,
			},
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '30f1bb88-eac5-4a33-93a7-0f76bd955f8e',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'SendMessage',
			activityName: 'sm_nao_tem_pdf',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|sm_nao_tem_pdf_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: {
				sendMessageTemplate:
					'{\n    "html":"Tive um problema e *não consigo gerar um PDF do boleto* por aqui. Mas, apenas com o código de barras, você já consegue realizar o pagamento. ####Se ainda assim precisar do PDF, *fale com nossa central* especializada nos telefones: 4004 1188, para capitais e regiões metropolitanas e 0800 709 1188 para outros locais.##O atendimento é de segunda a sexta, das 8:30 às 18:30 (horário de Brasília).", \n    "acoes":[]\n}',
				resoluteness: null,
			},
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: 'a524aa94-5001-49ef-8b03-a7d753b5fdb0',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'EndOfFlow',
			activityName: 'eof_nao_tem_pdf',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|eof_nao_tem_pdf_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: {
				eofType: 'ranUpToCompletion',
				eofAction: 'backToIA',
				typingDisabled: false,
				eofTags: null,
				eofData: null,
				resoluteness: null,
			},
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '695bbd32-8ccf-4427-aa7e-c541a26c032e',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Decision',
			activityName: 'dc_verifica_pdf',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_escolhe_boleto_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|dc_verifica_pdf_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: {
				conditions: [
					{
						item1: "@.indicador_impressao == 'N'",
						item2: 'naoTemPDF',
					},
				],
				defaultNextActivity: {
					item1: 'temPDF',
					item2: 'temPDF',
				},
				decisionEngineType: 'jmespath',
			},
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '6d6bcfca-ccde-4539-a46c-58b2053bf6f5',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'UserResponse',
			activityName: 'res_nao_tem_pdf',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|res_nao_tem_pdf_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|res_nao_tem_pdf_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: {
				outputSchema: null,
				_respSchema:
					'{\n    "definitions": {},\n    "$schema": "http://json-schema.org/draft-07/schema#",\n    "$id": "http://example.com/root.json",\n    "type": "object",\n    "title": "The Root Schema",\n    "required": ["value"],\n    "properties": {\n     "value": {\n      "$id": "#/properties/value",\n      "type": "string",\n      "title": "The Value Schema",\n      "default": "",\n      "pattern": "^(lista|pagarApp|pdf))",\n               "minLength": 1\n     }\n    }\n   }',
				respSchema: null,
				userReplyTemplate: null,
				userReplyTries: [
					{
						item1: "{{{ attemptCheck numTentativas '>=' 2 }}}",
						item2: 'excedeu',
					},
					{
						item1: "{{{ attemptCheck numTentativas '<' 2 }}}",
						item2: 'naoValido',
					},
				],
				responseFormat: null,
			},
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '79cae782-55d8-4084-9b74-3ed987078102',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Decision',
			activityName: 'dc_nao_tem_pdf',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|res_nao_tem_pdf_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|dc_nao_tem_pdf_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: {
				conditions: [
					{
						item1: "@.value == 'pagarApp'",
						item2: 'pagarApp',
					},
					{
						item1: "@.value == 'lista'",
						item2: 'reverLista',
					},
				],
				defaultNextActivity: {
					item1: 'naoTemPDF',
					item2: 'naoTemPDF',
				},
				decisionEngineType: 'jmespath',
			},
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '61f104d4-3b31-48f2-95d1-4d2d2fa5411d',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Decision',
			activityName: 'dc_aguardando_formalização',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_escolhe_boleto_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|dc_aguardando_formalização_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: {
				conditions: [
					{
						item1: "@.codigo_situacao == 'AF'",
						item2: 'sim',
					},
				],
				defaultNextActivity: {
					item1: 'nao',
					item2: 'nao',
				},
				decisionEngineType: 'jmespath',
			},
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '27ba29a8-8f14-476c-a0a8-e1818d0b508f',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'SendMessage',
			activityName: 'sm_pagamento_efetuado',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_escolhe_boleto_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|sm_pagamento_efetuado_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: {
				sendMessageTemplate:
					'{\n  "html": "Consultei aqui e vi que o pagamento deste boleto no valor de *R$ {{{trim (formatNumber \'en-US\' mp_escolhe_boleto_result.valor groupSeparator=\'.\' decimalSeparator=\',\' )}}}* com vencimento em *{{{ mp_escolhe_boleto_result.data_vencimento }}}*, já foi realizado.😊####Se precisar de mais alguma coisa, é só me avisar.", \n  "acoes": []\n}',
				resoluteness: null,
			},
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '95724281-e3b9-4e29-a567-b6bc3efdcd04',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'UserRequest',
			activityName: 'req_boleto_vencido',
			inputDataLoc: [
				'whatsapp_pj_reneg_segunda_via_boleto|mp_escolhe_boleto_result',
				'jornada_consultar_clientes_eq3_whats_reneg|mp_dados_cliente_eq3_result',
			],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|req_boleto_vencido_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: {
				requestUserInfoTemplate:
					'{\n    "html": "#BOTAO#Aqui estão os dados da *atual parcela* do seu *{{{mp_escolhe_boleto_result.nome_produto_gerado}}}*:####{{#ifCond (gt (length mp_dados_cliente_eq3_result.nome_fantasia) 0)}}*empresa:* {{{mp_dados_cliente_eq3_result.nome_fantasia}}}##{{/ifCond}}*valor original da parcela:* R$ {{trim (formatNumber \'en-US\' mp_escolhe_boleto_result.valor groupSeparator=\'.\' decimalSeparator=\',\' )}}##*data de vencimento da parcela:* {{{ formatDate mp_escolhe_boleto_result.data_vencimento \'dd/MM/yyyy\' }}}##*status:* *boleto vencido* ⚠.####*Importante:* como seu boleto já venceu, *o valor será atualizado* considerando os dias de atraso quando você for fazer o pagamento.####@@{{{valueIsNotEmpty mp_escolhe_boleto_result.linha_digitavel}}}@@*Copie o código de barras* na mensagem anterior para realizar o pagamento no banco que preferir.@@Se tiver acesso à sua *conta Itaú Empresas* e quiser pagar por lá agora, é só clicar no botão *pagar no app*, que eu te ajudo.", \n    "acoes":[\n        {\n            "rotulo": "pagar no app",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"pagarApp\\" }"\n        },\n        {\n            "rotulo": "rever lista",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"lista\\" }"\n        },\n        {\n            "rotulo": "mudar de assunto",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"mudarAssunto\\" }"\n        }\n    ]\n}',
				resoluteness: null,
				alternativePaths: [],
			},
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '171e24b4-cdb8-45f2-a4b1-0478e70d1ddf',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'UserResponse',
			activityName: 'res_boleto_vencido',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|res_boleto_vencido_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|res_boleto_vencido_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: {
				outputSchema: null,
				respSchema:
					'{\n    "definitions": {},\n    "$schema": "http://json-schema.org/draft-07/schema#",\n    "$id": "http://example.com/root.json",\n    "type": "object",\n    "title": "The Root Schema",\n    "required": ["value"],\n    "properties": {\n     "value": {\n      "$id": "#/properties/value",\n      "type": "string",\n      "title": "The Value Schema",\n      "default": "",\n      "pattern": "^(pagarApp|lista|mudarAssunto)$",\n               "minLength": 1\n     }\n    }\n   }',
				userReplyTemplate: null,
				userReplyTries: [
					{
						item1: "{{{ attemptCheck numTentativas '>=' 2 }}}",
						item2: 'excedeu',
					},
					{
						item1: "{{{ attemptCheck numTentativas '<' 2 }}}",
						item2: 'naoValido',
					},
				],
				responseFormat: null,
			},
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: 'e30dcd9a-1712-4ab1-8eff-57126efd21be',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Decision',
			activityName: 'dc_boleto_vencido',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|res_boleto_vencido_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|dc_boleto_vencido_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: {
				conditions: [
					{
						item1: "@.value == 'pagarApp'",
						item2: 'pagarApp',
					},
					{
						item1: "@.value == 'lista'",
						item2: 'verLista',
					},
				],
				defaultNextActivity: {
					item1: 'mudarAssunto',
					item2: 'mudarAssunto',
				},
				decisionEngineType: 'jmespath',
			},
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '44e69950-8486-41fd-8833-e9bee75b45c7',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'SendMessage',
			activityName: 'sm_muda_assunto_boleto_vencido',
			inputDataLoc: ['modulo_reneg_pj_mensagens|mp_mensagens_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|sm_muda_assunto_boleto_vencido_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: {
				sendMessageTemplate: '{"html": "{{{mp_mensagens_result.mudarDeAssunto}}}", "acoes": []}',
				resoluteness: null,
			},
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '33d6f984-c1b5-4d7f-9de7-e5b1a67be885',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Mapper',
			activityName: 'mp_count_boleto_vencido',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_count_boleto_vencido_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|mp_count_boleto_vencido_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: {
				mapperTemplate:
					'{ \n{{#ifCond (eq mp_count_boleto_vencido_result.value null)}}\n "value": "0"\n{{else}}\n "value": "{{add mp_count_boleto_vencido_result.value "1"}}"\n{{/ifCond}}\n}',
				outputSchema: null,
			},
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '78780408-5c1a-484a-bb6e-47ebfe1d3c3d',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'UserRequest',
			activityName: 'req_boleto_vencido_tentativa',
			inputDataLoc: [
				'whatsapp_pj_reneg_segunda_via_boleto|mp_count_boleto_vencido_result',
				'modulo_reneg_pj_mensagens|mp_mensagens_result',
			],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|req_boleto_vencido_tentativa_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: {
				requestUserInfoTemplate:
					'{\n    "html": "#BOTAO# {{#ifCond (eq mp_count_boleto_vencido_result.value "0")}} {{{mp_mensagens_result.tentativaClicarBotao}}}{{else}}{{{mp_mensagens_result.retentativaClicarBotao}}}{{/ifCond}}", \n    "acoes":[\n        {\n            "rotulo": "pagar no app",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"pagarApp\\" }"\n        },\n        {\n            "rotulo": "rever lista",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"lista\\" }"\n        },\n        {\n            "rotulo": "mudar de assunto",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"mudarAssunto\\" }"\n        }\n    ]\n}',
				resoluteness: null,
				alternativePaths: [],
			},
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '79d3498c-2f10-4280-8b16-bd6a45505f97',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'SendMessage',
			activityName: 'sm_excedeu_boleto_vencido',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|sm_excedeu_boleto_vencido_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: {
				sendMessageTemplate:
					'{"html": "Ops, não entendi o que você precisa. Você pode tentar de novo mais tarde ou conversar comigo sobre outro assunto. ", "acoes": []}',
				resoluteness: null,
			},
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: 'f184cab3-26ec-4735-a5eb-815f3fb96841',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'EndOfFlow',
			activityName: 'eof_excedeu_boleto_vencido',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|eof_excedeu_boleto_vencido_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: {
				eofType: 'ranUpToCompletion',
				eofAction: 'backToIA',
				typingDisabled: false,
				eofTags: null,
				eofData: null,
				resoluteness: null,
			},
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '6d8d94a0-3ac2-40d2-9910-e90a82f190bf',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'UserRequest',
			activityName: 'req_tem_pdf',
			inputDataLoc: [
				'whatsapp_pj_reneg_segunda_via_boleto|mp_escolhe_boleto_result',
				'jornada_consultar_clientes_eq3_whats_reneg|mp_dados_cliente_eq3_result',
			],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|req_tem_pdf_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: {
				requestUserInfoTemplate:
					'{\n    "html": "#BOTAO#Aqui estão os dados da *atual parcela* do seu *{{{mp_escolhe_boleto_result.nome_produto_gerado}}}*##{{#ifCond (gt (length mp_dados_cliente_eq3_result.nome_fantasia) 0)}}##empresa: *{{{mp_dados_cliente_eq3_result.nome_fantasia}}}*{{/ifCond}}##valor original da parcela: *R$ {{trim (formatNumber \'en-US\' mp_escolhe_boleto_result.valor groupSeparator=\'.\' decimalSeparator=\',\' )}}*##data de vencimento da parcela: *{{{ formatDate mp_escolhe_boleto_result.data_vencimento \'dd/MM/yyyy\' }}}*##status: *aguardando pagamento* ⚠@@{{{valueIsNotEmpty mp_escolhe_boleto_result.linha_digitavel}}}@@*Copie o código de barras* na mensagem anterior para realizar o pagamento no banco que preferir.####Se tiver acesso à sua *conta Itaú Empresas* e quiser pagar por lá agora, é só clicar no botão *pagar no app*, que eu te ajudo.", \n    "acoes":[\n        { \n            "rotulo": "pagar no app",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"pagaApp\\" }"\n        },\n        { \n            "rotulo": "rever lista",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"lista\\" }"\n        },\n        { \n            "rotulo": "preciso do pdf",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"pdf\\" }"\n        }\n    ]\n}',
				resoluteness: null,
				alternativePaths: [],
			},
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '8c9fcedc-3c1b-42ac-94da-c4d8d804b0f4',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'UserResponse',
			activityName: 'res_tem_pdf',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|res_tem_pdf_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: {
				outputSchema: null,
				respSchema:
					'{\n    "definitions": {},\n    "$schema": "http://json-schema.org/draft-07/schema#",\n    "$id": "http://example.com/root.json",\n    "type": "object",\n    "title": "The Root Schema",\n    "required": ["value"],\n    "properties": {\n     "value": {\n      "$id": "#/properties/value",\n      "type": "string",\n      "title": "The Value Schema",\n      "default": "",\n      "pattern": "^(lista|pagaApp|pdf)$",\n               "minLength": 1\n     }\n    }\n   }',
				userReplyTemplate: null,
				userReplyTries: [
					{
						item1: "{{{ attemptCheck numTentativas '>=' 2 }}}",
						item2: 'excedeu',
					},
					{
						item1: "{{{ attemptCheck numTentativas '<' 2 }}}",
						item2: 'naoValido',
					},
				],
				responseFormat: null,
			},
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: 'aac83c1c-29f6-4038-ac3f-3c43a502540d',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Decision',
			activityName: 'dc_tem_pdf',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|res_tem_pdf_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|dc_tem_pdf_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: {
				conditions: [
					{
						item1: "@.value == 'pdf'",
						item2: 'precisaPDF',
					},
					{
						item1: "@.value == 'lista'",
						item2: 'reverLista',
					},
				],
				defaultNextActivity: {
					item1: 'pagarApp',
					item2: 'pagarApp',
				},
				decisionEngineType: 'jmespath',
			},
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: 'bb98c64d-a019-4c8d-b8e6-4996ac01485b',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'GoToFlow',
			activityName: 'gtf_whatsapp_pj_reneg_emissao_boleto',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|gtf_whatsapp_pj_reneg_emissao_boleto_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: {
				subFlowId: 'cd69b814-1e9d-4f8b-bd1a-62961dad5431',
				startSubFlowActivityName: 'start_subflow',
			},
		},
		{
			activityId: '35a34d98-9c77-4160-a2b6-a5e5d925f8ac',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'EndOfFlow',
			activityName: 'eof_whatsapp_pj_reneg_emissao_boleto',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|eof_whatsapp_pj_reneg_emissao_boleto_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: {
				eofType: 'ranUpToCompletion',
				eofAction: 'backToIA',
				typingDisabled: false,
				eofTags: null,
				eofData: null,
				resoluteness: null,
			},
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: 'c64c640e-292b-4e78-b56e-b932c6c738d1',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Mapper',
			activityName: 'mp_count_tem_pdf',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_count_tem_pdf_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|mp_count_tem_pdf_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: {
				mapperTemplate:
					'{ \n{{#ifCond (eq mp_count_tem_pdf_result.value null)}}\n "value": "0"\n{{else}}\n "value": "{{add mp_count_tem_pdf_result.value "1"}}"\n{{/ifCond}}\n}',
				outputSchema: null,
			},
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '96b35269-312b-4fbc-820a-15e4e6185e4d',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'UserRequest',
			activityName: 'req_tem_pdf_erro',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_count_tem_pdf_result', 'modulo_reneg_pj_mensagens|mp_mensagens_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|req_tem_pdf_erro_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: {
				requestUserInfoTemplate:
					'{\n    "html": "#BOTAO# {{#ifCond (eq mp_count_tem_pdf_result.value "0")}}{{{mp_mensagens_result.tentativaClicarBotao}}}{{else}}{{{mp_mensagens_result.retentativaClicarBotao}}}{{/ifCond}}", \n    "acoes":[\n        { \n            "rotulo": "pagar no app",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"pagaApp\\" }"\n        },\n        { \n            "rotulo": "rever lista",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"lista\\" }"\n        },\n        { \n            "rotulo": "preciso do pdf",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"pdf\\" }"\n        }\n    ]\n}',
				resoluteness: null,
				alternativePaths: [],
			},
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '07501515-583a-4ec7-8f73-1c01fa392052',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'SendMessage',
			activityName: 'sm_excedeu_tem_pdf_erro',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|sm_excedeu_tem_pdf_erro_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: {
				sendMessageTemplate:
					'{"html": "Ops, não entendi o que você precisa. Você pode tentar de novo mais tarde ou conversar comigo sobre outro assunto.", "acoes": []}',
				resoluteness: null,
			},
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: 'c89dcc78-b103-4077-a116-e3065b968cff',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'EndOfFlow',
			activityName: 'eof_excedeu_tem_pdf_erro',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|eof_excedeu_tem_pdf_erro_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: {
				eofType: 'ranUpToCompletion',
				eofAction: 'backToIA',
				typingDisabled: false,
				eofTags: null,
				eofData: null,
				resoluteness: null,
			},
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: 'b9ee7ad8-bea7-41f1-9c33-c8430aa420b4',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Filter',
			activityName: 'filter_lista_boleto_acordo',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_lista_boletos_unificado_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|filter_lista_boleto_acordo_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: {
				filterCondition: '@.listaAcordosDocsElegiveis[0:5]',
				outputSchema: null,
				inputDataLocFilter: 'mp_lista_boletos_unificado_result',
			},
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '26e62188-01a1-4b13-a2a9-d63e15da9dbb',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Filter',
			activityName: 'filter_lista_boleto_acordo_p2',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_lista_boletos_unificado_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|filter_lista_boleto_acordo_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: {
				filterCondition: '@.listaAcordosDocsElegiveis[5:]',
				outputSchema: null,
				inputDataLocFilter: 'mp_lista_boletos_unificado_result',
			},
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '460df85e-6a0a-46e4-a3e7-6349261f8979',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Filter',
			activityName: 'filter_lista_acordos',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|callapi_lista_acordos_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|filter_lista_acordos_res',
			activityTags: {},
			callApiUdt: {},
			filterUdt: {
				filterCondition:
					"data | @ | {\n    qtdAcordosTotal: length(@),\n    qtdAcordosElegiveis: length(@[?tipo_renegociacao != 'RPS' && meio_pagamento_acordo != 'D']),\n    acordos: @,\n    acordosElegiveis: @[?tipo_renegociacao != 'RPS' && meio_pagamento_acordo != 'D']\n}",
				outputSchema: null,
				inputDataLocFilter: 'callapi_lista_acordos_result',
			},
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '78bd2500-0f2e-4a01-a681-e19a970d02a2',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Filter',
			activityName: 'filter_lista_documentos',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|callapi_lista_documentos_valid_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|filter_lista_documentos_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: {
				filterCondition:
					"protocols | @ | {\n    qtdDocumentosTotal: length(@),\n    qtdDocumentosElegiveis: length(@[?statusBoleto == 'Ativo' || statusBoleto == 'Vencido']),\n    documentos: @,\n    documentosElegiveis: @[?statusBoleto == 'Ativo' || statusBoleto == 'Vencido']\n}",
				outputSchema: null,
				inputDataLocFilter: 'callapi_lista_documentos_valid_result',
			},
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '8c076663-37ca-4c03-93ad-eed1ac2d0328',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Mapper',
			activityName: 'mp_quantidade_geral',
			inputDataLoc: [
				'whatsapp_pj_reneg_segunda_via_boleto|filter_lista_acordos_result',
				'whatsapp_pj_reneg_segunda_via_boleto|filter_lista_contrato_result',
			],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|mp_quantidade_geral_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: {
				mapperTemplate: '{{{add filter_lista_acordos_result.qtdAcordosTotal filter_lista_contrato_result.qtdContratos }}}\n',
				outputSchema: null,
			},
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '4cfb0575-48aa-46c1-971c-6bc3eb05a0f6',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Decision',
			activityName: 'decision_possui_boleto_elegivel',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_lista_boletos_unificado_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|decision_possui_boleto_elegivel_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: {
				conditions: [
					{
						item1: '@.qtdGeralElegiveis == `0`',
						item2: 'naoElegivel',
					},
				],
				defaultNextActivity: {
					item1: 'elegivel',
					item2: 'elegivel',
				},
				decisionEngineType: 'jmespath',
			},
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '9d96b4b4-ffac-4207-b7d5-1aa7624b5ec1',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Decision',
			activityName: 'decision_tem_acordo',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|filter_lista_boleto_acordo_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|decision_tem_acordo_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: {
				conditions: [
					{
						item1: 'length(@) == `0`',
						item2: 'IgualA0',
					},
				],
				defaultNextActivity: {
					item1: 'escolherContrato',
					item2: 'escolherContrato',
				},
				decisionEngineType: 'jmespath',
			},
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: 'c49ff88d-8c18-4427-a608-d463c2c8c64d',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Mapper',
			activityName: 'mp_qtd_iteracao_reset',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|mp_qtd_iteracao_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: {
				mapperTemplate: '{\n   value: "-1"\n}',
				outputSchema: null,
			},
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '0af66e70-de61-4288-adda-df32842b543f',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'UserResponse',
			activityName: 'res_nao_achou_boleto',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|res_nao_achou_boleto_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|res_nao_achou_boleto_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: {
				outputSchema: null,
				respSchema:
					'{\n    "definitions": {},\n    "$schema": "http://json-schema.org/draft-07/schema#",\n    "$id": "http://example.com/root.json",\n    "type": "object",\n    "title": "The Root Schema",\n    "required": ["value"],\n    "properties": {\n     "value": {\n      "$id": "#/properties/value",\n      "type": "string",\n      "title": "The Value Schema",\n      "default": "",\n      "pattern": "^(mudarAssunto|rever)$",\n      "minLength": 1\n     }\n    }\n   }',
				userReplyTemplate: null,
				userReplyTries: [
					{
						item1: "{{{ attemptCheck numTentativas '>=' 2 }}}",
						item2: 'excedeu',
					},
					{
						item1: "{{{ attemptCheck numTentativas '<' 2 }}}",
						item2: 'naoValido',
					},
				],
				responseFormat: null,
			},
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: 'f15bde7d-83fa-455a-b7bb-62d28e4a67ae',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Mapper',
			activityName: 'mp_count_nao_achou_boleto_erro',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_count_nao_achou_boleto_erro_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|mp_count_nao_achou_boleto_erro_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: {
				mapperTemplate:
					'   { \n    {{#ifCond (eq mp_count_nao_achou_boleto_erro_result.value null)}}\n     "value": "0"\n    {{else}}\n     "value": "{{add mp_count_nao_achou_boleto_erro_result.value "1"}}"\n    {{/ifCond}}\n    }',
				outputSchema: null,
			},
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: 'cb5f6721-9946-463d-9a47-40d14f9e5a09',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'UserRequest',
			activityName: 'req_tentativa_nao_achou_boleto',
			inputDataLoc: [
				'whatsapp_pj_reneg_segunda_via_boleto|mp_count_nao_achou_boleto_erro_result',
				'modulo_reneg_pj_mensagens|mp_mensagens_result',
			],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|req_tentativa_nao_achou_boleto_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: {
				requestUserInfoTemplate:
					'{\n    "html": "#BOTAO# {{#ifCond (eq mp_count_nao_achou_boleto_erro_result.value "0")}{{{mp_mensagens_result.tentativaClicarBotao}}}{{else}}{{{mp_mensagens_result.retentativaClicarBotao}}}{{/ifCond}}", \n    "acoes":[\n        {\n            "rotulo": "rever lista",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"rever\\" }"\n        },\n        {\n            "rotulo": "mudar de assunto",\n            "tipo": "userReplyRes", \n            "acao": "{ \\"value\\": \\"mudarAssunto\\" }"\n        }\n    ]\n}',
				resoluteness: null,
				alternativePaths: [],
			},
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: 'f9df990e-6a74-4af9-9c16-8d3799ef9b01',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'SendMessage',
			activityName: 'sm_excedeu_nao_achou_boleto',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|sm_excedeu_nao_achou_boleto_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: {
				sendMessageTemplate:
					'{"html": "Ops, não entendi o que você precisa. Você pode tentar de novo mais tarde ou conversar comigo sobre outro assunto.", "acoes": []}',
				resoluteness: null,
			},
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '8f50bccb-fdbd-4022-89ca-9cb23a6ae4f9',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'SendMessage',
			activityName: 'sm_mudar_assunto',
			inputDataLoc: ['modulo_reneg_pj_mensagens|mp_mensagens_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|sm_mudar_assunto_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: {
				sendMessageTemplate: '{\n    "html":  "{{{mp_mensagens_result.mudarDeAssunto}}}", \n    "acoes": []\n}',
				resoluteness: null,
			},
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '866f4be6-2a8c-4eb0-b425-ef0d8d2c1860',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'EndOfFlow',
			activityName: 'eof_excedeu_nao_achou_boleto',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|eof_excedeu_nao_achou_boleto_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: {
				eofType: 'ranUpToCompletion',
				eofAction: 'backToIA',
				typingDisabled: false,
				eofTags: null,
				eofData: null,
				resoluteness: null,
			},
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: 'c8ba3626-9a96-415d-8444-8743395d2a59',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Decision',
			activityName: 'dc_rever_lista',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|res_nao_achou_boleto_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|dc_rever_lista_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: {
				conditions: [
					{
						item1: "@.value=='mudarAssunto'",
						item2: 'mudarAssunto',
					},
				],
				defaultNextActivity: {
					item1: 'reverLista',
					item2: 'reverLista',
				},
				decisionEngineType: 'jmespath',
			},
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: 'cc34c77a-d74e-473c-b17d-3fd7a890460d',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Mapper',
			activityName: 'mp_escolhe_boleto',
			inputDataLoc: [
				'whatsapp_pj_reneg_segunda_via_boleto|filter_lista_boleto_acordo_result',
				'whatsapp_pj_reneg_segunda_via_boleto|res_escolhe_contrato_result',
			],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|mp_escolhe_boleto_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: {
				mapperTemplate:
					'{\n  {{{ #each filter_lista_boleto_acordo_result }}}\n    {{{ #ifCond (eq id ../res_escolhe_contrato_result)}}}\n      "acordo": "{{{acordo}}}",\n      "uuid": "{{{uuid}}}",\n      "id_acordo": "{{{id}}}",\n      "nome_produto_gerado": "{{{nome_produto}}}",\n      "valor": "{{{valor}}}",\n      "linha_digitavel": "{{{linha_digitavel}}}",\n      "data_vencimento": "{{{formatDate data_vencimento \'dd/MM/yyyy\'}}}",\n      "codigo_situacao": "{{{upper codigo_situacao}}}",\n      "indicador_impressao": "{{{upper indicador_impressao}}}"      \n    {{{/ifCond}}}\n  {{{/each}}}\n}',
				outputSchema: null,
			},
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '96913e16-ba6a-4f98-b7ab-2d2fc65d3037',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Decision',
			activityName: 'dc_boleto_selecionado',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_escolhe_boleto_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|dc_boleto_selecionado_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: {
				conditions: [
					{
						item1: 'length(@) <= `0`',
						item2: 'naoEncontrado',
					},
				],
				defaultNextActivity: {
					item1: 'boletoEncontrado',
					item2: 'boletoEncontrado',
				},
				decisionEngineType: 'jmespath',
			},
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '0e3f9a3a-c1fb-45fc-8ee7-21f99889d35e',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Decision',
			activityName: 'dc_verifica_acordo',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_escolhe_boleto_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|dc_verifica_acordo_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: {
				conditions: [
					{
						item1: "@.acordo == 'false'",
						item2: 'naoEhAcordo',
					},
				],
				defaultNextActivity: {
					item1: 'ehAcordo',
					item2: 'ehAcordo',
				},
				decisionEngineType: 'jmespath',
			},
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '0caa6660-6eba-4e75-a34a-9c1a967df3ce',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'EndOfFlow',
			activityName: 'eof_pagar_app',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|eof_pagar_app_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: {
				eofType: 'ranUpToCompletion',
				eofAction: 'backToIA',
				typingDisabled: false,
				eofTags: null,
				eofData: null,
				resoluteness: null,
			},
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '09adfa62-63f1-4d87-b03c-18b308bcfd6f',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'EndOfFlow',
			activityName: 'eof_pagar_app_nao_tem_pdf',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|eof_pagar_app_nao_tem_pdf_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: {
				eofType: 'ranUpToCompletion',
				eofAction: 'backToIA',
				typingDisabled: false,
				eofTags: null,
				eofData: null,
				resoluteness: null,
			},
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '3738de2a-a079-4ac7-819d-922573f7c9aa',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'EndOfFlow',
			activityName: 'eof_pagar_app_tem_pdf',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|eof_pagar_app_tem_pdf_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: {
				eofType: 'ranUpToCompletion',
				eofAction: 'backToIA',
				typingDisabled: false,
				eofTags: null,
				eofData: null,
				resoluteness: null,
			},
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: 'd7576635-5c8a-4d5b-9c06-57d92ad922ee',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'SendMessage',
			activityName: 'sm_template_pagar_app_1',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|sm_template_pagar_app_2_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: {
				sendMessageTemplate:
					'{\n  "html": "pagar no app",\n  "acoes": [\n    {\n      "acao": "{\\"template\\": {\\"namespace\\":\\"f9b6cf78_c988_0138_423c_73a1681489fd\\",\\"name\\":\\"renegpj_ir_para_o_app\\",\\"components\\":[]} }"\n    }\n  ]\n}',
				resoluteness: null,
			},
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: 'd9fd5c4a-98e9-4168-9349-c11c5759edac',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'SendMessage',
			activityName: 'sm_template_pagar_app_2',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|sm_template_pagar_app_2_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: {
				sendMessageTemplate:
					'{\n  "html": "pagar no app",\n  "acoes": [\n    {\n      "acao": "{\\"template\\": {\\"namespace\\":\\"f9b6cf78_c988_0138_423c_73a1681489fd\\",\\"name\\":\\"renegpj_ir_para_o_app\\",\\"components\\":[]} }"\n    }\n  ]\n}',
				resoluteness: null,
			},
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: 'b7725056-eb1f-44b3-ad12-f185640aec1a',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'SendMessage',
			activityName: 'sm_template_pagar_app_3',
			inputDataLoc: [],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|sm_template_pagar_app_3_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: {
				sendMessageTemplate:
					'{\n  "html": "pagar no app",\n  "acoes": [\n    {\n      "acao": "{\\"template\\": {\\"namespace\\":\\"f9b6cf78_c988_0138_423c_73a1681489fd\\",\\"name\\":\\"renegpj_ir_para_o_app\\",\\"components\\":[]} }"\n    }\n  ]\n}',
				resoluteness: null,
			},
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: {
				inputEnabled: 1,
				inputType: 0,
				inputMask: 0,
				inputValidationType: 0,
				inputMaskData: null,
				inputValidationData: null,
			},
			goToFlowUdt: null,
		},
		{
			activityId: '0f19bee6-33a4-44c6-bb32-36dfebf8f939',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'CallApi',
			activityName: 'callapi_lista_acordos',
			inputDataLoc: [
				'whatsapp_pj_reneg_segunda_via_boleto|mp_formata_optin_result',
				'whatsapp_pj_reneg_segunda_via_boleto|__sessionData__',
			],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|callapi_lista_acordos_result',
			activityTags: {
				header: 'false',
				readas: 'string',
				giantReturn: 'false',
			},
			callApiUdt: {
				dev: {
					method: 'GET',
					url: 'https://api-sp.dev.aws.cloud.ihf/renegociacoes-bff/v1/renegociacoes/v3/acordos',
					body: null,
					contentType: 'application/json',
					resultTemplate: null,
					headers: {
						'x-itau-apikey': 'fec3dd53-b3bc-4bdc-b933-156035eeb11e',
						'x-itau-flowID': '',
						'x-itau-correlationID': '',
						accept: 'application/vnd.itau+json',
					},
					queryString: {
						cpf_cnpj: '{{{ valueIsNotEmpty mp_formata_optin_result.cnpj}}}',
					},
					routing: {},
					authentication: {
						authenticationType: 'oauth2_clientCredentials',
						authenticationUri: 'https://hom-sts-int.mbi.cloud.ihf/api/oauth/token',
						clientId: 'fec3dd53-b3bc-4bdc-b933-156035eeb11e',
						client_secret: 'e84b8342-5748-42bb-910e-59e3ab4732f0',
					},
					protocols: null,
					bodyParameters: null,
					tags: {},
				},
				hom: {
					method: 'GET',
					url: 'https://renegociacoes-v1-recuperacao.api-sp.hom.aws.cloud.ihf/renegociacoes-bff/v1/renegociacoes/v3/acordos',
					body: null,
					contentType: 'application/json',
					resultTemplate: null,
					headers: {
						'x-itau-apikey': '0517adb6-9636-45fc-b838-f8476dc23ec1',
						'x-itau-flowID': '{{ newGuid }}',
						'x-itau-correlationID': '{{ newGuid }}',
						accept: 'application/vnd.itau+json',
					},
					queryString: {
						cpf_cnpj: '{{{ valueIsNotEmpty mp_formata_optin_result.cnpj}}}',
					},
					routing: {},
					authentication: {
						authenticationType: 'oauth2_clientCredentials',
						authenticationUri: 'https://hom-sts-int.mbi.cloud.ihf/api/oauth/token',
						client_id: '0517adb6-9636-45fc-b838-f8476dc23ec1',
						client_secret: '12efe3b06b75b800fee7bd55935875c41a5de2acafe94e96ad8395ee3eead660518532ba49703717ed03762f71294610',
					},
					protocols: null,
					bodyParameters: null,
					tags: {},
				},
				prod: {
					method: 'GET',
					url: 'https://renegociacoes-v1-recuperacao.api-sp.prod.aws.cloud.ihf/renegociacoes-bff/v1/renegociacoes/v3/acordos',
					body: null,
					contentType: 'application/json',
					resultTemplate: null,
					headers: {
						'x-itau-apikey': 'e11e48f4-894a-4331-a366-7d8a683851de',
						'x-itau-flowID': '{{ newGuid }}',
						'x-itau-correlationID': '{{ newGuid }}',
						accept: 'application/vnd.itau+json',
						cpf_operador: '{{{ valueIsNotEmpty mp_formata_optin_result.cpf_criptografado}}}',
					},
					queryString: {
						cpf_cnpj: '{{{ valueIsNotEmpty mp_formata_optin_result.cnpj}}}',
					},
					routing: {},
					authentication: {
						authenticationType: 'oauth2_clientCredentials',
						authenticationUri: 'https://sts.mbi.cloud.ihf/api/oauth/token',
						clientId: 'e11e48f4-894a-4331-a366-7d8a683851de',
						client_secret: 'bff5c9c3be90cd3d6cc37f82afa8dcea6c52ec45686123b8e8477ecae06786a8ce7808f8687e267fcc1585b98105e7c4',
					},
					protocols: null,
					bodyParameters: null,
					tags: {},
				},
			},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '88e3bf5e-6d84-495b-b6ea-4234f9eef7eb',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Decision',
			activityName: 'decision_iteracao_lista',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_qtd_iteracao_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|decision_iteracao_lista_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: {
				conditions: [
					{
						item1: "@.value >= '2'",
						item2: 'excedeu',
					},
					{
						item1: "@.value == '1'",
						item2: 'lista2MaisBoleto',
					},
				],
				defaultNextActivity: {
					item1: 'listaBoletosAcordos',
					item2: 'listaBoletosAcordos',
				},
				decisionEngineType: 'jmespath',
			},
			mapperUdt: null,
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
		{
			activityId: '4e677509-9819-4e65-8ac4-fe6723da42b1',
			version: 345,
			flowId: 'a1717650-66c2-9cf5-4c88-62124730b8ec',
			flowName: 'whatsapp_pj_reneg_segunda_via_boleto',
			activityType: 'Mapper',
			activityName: 'mp_qtd_iteracao',
			inputDataLoc: ['whatsapp_pj_reneg_segunda_via_boleto|mp_qtd_iteracao_result'],
			outputDataLoc: 'whatsapp_pj_reneg_segunda_via_boleto|mp_qtd_iteracao_result',
			activityTags: {},
			callApiUdt: {},
			filterUdt: null,
			decisionUdt: null,
			mapperUdt: {
				mapperTemplate:
					'{ \n{{#ifCond (eq mp_qtd_iteracao_result.value null)}}\n    "value": "0"\n{{else}}\n    "value": "{{add mp_qtd_iteracao_result.value "1"}}"\n{{/ifCond}}\n}',
				outputSchema: null,
			},
			sendMessageUdt: null,
			userResponseInfoUdt: null,
			requestUserInfoUdt: null,
			endOfFlowUdt: null,
			inputStateUdt: null,
			goToFlowUdt: null,
		},
	];

	keys: string[] = [];

	sortProperty = '';
	sortOrder = 1;

	ngOnInit(): void {
		this.msgLoading = '';
		// this.loadData(this.data);
	}

	loadData(data: dataType) {
		this.loading = true;
		this.msgLoading = 'carregando...';
		this.data = data;
		if (this.data.length > 0) {
			this.keys = Object.keys(this.data[0]);
		}
		this.msgLoading = `${this.data.length} blocos`;
		this.loading = false;
	}

	selectRow(index: number): void {
    this.selectedRow = index;
  }

	transfomValue(value: unknown, ellipsis: boolean = false): string {
		const text = (typeof value === 'object' ? JSON.stringify(value || '') : value || '') as string;
		if (ellipsis && text.length > 100) {
			return `${text.substring(0, 97)}...`;
		}
		return text;
	}

	isBigValue(value: unknown): boolean {
		const text = this.transfomValue(value, false);
		return text.length > 100;
	}

	sortBy(property: string) {
		this.sortOrder = property === this.sortProperty ? this.sortOrder * -1 : 1;
		this.sortProperty = property;
		this.data = [
			// eslint-disable-next-line @typescript-eslint/no-explicit-any
			...this.data.sort((a: any, b: any) => {
				// sort comparison function
				let result = 0;
				if (a[property] < b[property]) {
					result = -1;
				}
				if (a[property] > b[property]) {
					result = 1;
				}
				return result * this.sortOrder;
			}),
		];
	}

	sortIcon(property: string) {
		if (property === this.sortProperty) {
			return this.sortOrder === 1 ? '🔺' : '🔻';
		}
		return ' ';
	}

	openModal(title: string, data: unknown) {
		this.codeModal = { title, data };
		this.diffModal.openDialog();
	}
}
